=== tmux

本手順で環境構築を行なった場合、仮想マシンにtmuxというツールがインストールされているはずです。このツールの紹介です。

tmuxとは端末多重化ツールです。 +
Railsの開発を進める上でRailsサーバを動かしながらRailsのコマンドを実行したいというような状況がよく発生します。 +
素直にもう一つコンソールを立ち上げてそこからコマンドを打っても良いのですが、出来れば一つのコンソール画面から新たなセッションを立ち上げて、そこからコマンドを打つ方が楽です。 +
それに、今回は仮想マシン上で開発を進めるので、別のコンソールから実行するとなると
ssh接続を複数作ることになってしまいます。
それは出来れば避けたいのです。

そこで、tmuxを使用します。 +
tmuxを使うことで、一つのターミナル（ssh接続）で複数のセッションを切り替えながら作業をすることができるようになるのです。

==== コマンドライン

今回必要になりそうなコマンドを記載します。

[options="header"]
.コマンド
|====
| コマンド | 説明
| tmux | 新規セッション開始
| tmux new -s <セッション名> | 名前をつけて新規セッション開始
| tmux ls | セッション一覧表示
| tmux a | セッションを再開
| tmux kill-session | セッションを終了
| tmux kill-server | tmuxを終了(全セッション終了)
|====

==== 操作

今回必要になりそうなtmuxの操作を記載します。 +
ここに記載する操作のキーは全てデフォルトのものです。

各操作のキーはprefixを押した後に押下します。
prefixはデフォルトではctrl+bです。 +
セッション切り替えの場合、以下のような操作になります。

. ctrlキーとbキーを同時に押下
. sキーを押下

[options="header"]
.セッション操作
|====
| コマンド | 説明
| s | セッション切り替え
| d | セッションから離脱
| $ | セッションの名前変更
|====

[options="header"]
.ウインドウ操作
|====
| コマンド | 説明
| c | 新規ウインドウ作成
| w | ウインドウ一覧
| [0-9] | 指定のウインドウへ移動
| & | ウインドウ破棄
| n | 次のウインドウへ移動
| p | 前のウインドウへ移動
| l | 以前のウインドウへ移動
| ` | 入力番号のウインドウへ移動
| . | ウインドウ番号の変更
| , | ウインドウの名前変更
| f | ウインドウの検索
|====

[options="header"]
.ペイン操作
|====
| コマンド | 説明
| % | ペインを左右に分割
| " | ペインを上下に分割
| q | ペイン番号表示
| カーソル | 指定方向へペイン移動(連続可)
| ctrl + カーソル | ペインのサイズ変更(連続可)
| ! | ペイン解除(ウインドウ化)
| x | ペイン破棄
| o | ペインを順に移動
| z | 現在のペインを最大化(解除)
| スペース | レイアウト切り替え(トグル)
| Alt + [1-5] | レイアウト切り替え
| { | ペイン入れ替え(前方向)
| } | ペイン入れ替え(後方向)
| ctrl + o | ペイン入れ替え(全体)
| t | ペインに時計表示
|====
